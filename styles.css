:root {
  --grok-bg: linear-gradient(135deg, #0a0f23 0%, #13163a 100%);
  --grok-glass: rgba(46, 39, 103, 0.55);
  --grok-neon: #b76bfd;
  --grok-neon2: #4eafff;
  --grok-neon3: #ed75ff;
  --grok-glow: 0 0 18px 3px #b76bfdcc, 0 0 36px #4eafff99;
  --grok-glass-border: 2px solid #b76bfd55;
  --grok-sidebar-width: 112px;
}

html, body {
  background: var(--grok-bg);
  min-height: 100vh;
  margin: 0;
  padding: 0;
  color: #fff;
  font-family: 'Montserrat', 'Inter', Arial, sans-serif;
}

.grok-root {
  display: flex;
  min-height: 100vh;
}

.grok-sidebar {
  width: var(--grok-sidebar-width);
  background: linear-gradient(135deg, #181a35 60%, #2c1b44 100%);
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 2.3em 0 1em 0;
  border-right: 1.5px solid #3c3288;
  min-width: 74px;
}
.grok-sidebar-logo {
  font-size: 2em;
  font-weight: 900;
  color: var(--grok-neon);
  margin-bottom: 2em;
  letter-spacing: .16em;
  text-shadow: 0 0 13px #b76bfd88;
}
.grok-sidebtn {
  display: flex;
  align-items: center;
  gap: .6em;
  width: 100%;
  background: none;
  border: none;
  color: #b9c8f9;
  font-size: 1.08em;
  font-family: inherit;
  font-weight: 600;
  padding: .8em 0 .8em 1.7em;
  margin-bottom: .3em;
  cursor: pointer;
  border-radius: 0 18px 18px 0;
  transition: background 0.18s, color 0.13s;
  outline: none;
  position: relative;
  z-index: 2;
}
.grok-sidebtn.active, .grok-sidebtn:focus {
  background: linear-gradient(90deg, #181a35 60%, #b76bfd66 100%);
  color: var(--grok-neon);
  box-shadow: 0 0 22px #b76bfd77;
}
.grok-ico {
  font-size: 1.3em;
  text-shadow: 0 0 8px #b76bfd99;
}

.grok-main {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  align-items: flex-start;
  justify-content: flex-start;
  padding: 3vw 1vw;
  min-height: 100vh;
}

.grok-balance-bar {
  display: flex;
  flex-wrap: wrap;
  gap: 2.4em;
  background: rgba(24, 23, 44, 0.7);
  box-shadow: 0 2px 15px #0007;
  border-radius: 18px;
  padding: .6em 2em;
  font-size: 1.1em;
  letter-spacing: .03em;
  margin: 0 auto 1.4em auto;
  align-items: center;
  font-weight: 700;
  color: #fff;
}

.grok-glass-panel {
  background: var(--grok-glass);
  border-radius: 32px;
  border: var(--grok-glass-border);
  box-shadow: var(--grok-glow);
  padding: 2em 1.5em 1.5em 1.5em;
  max-width: 430px;
  width: 100%;
  min-width: 250px;
  min-height: 390px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  position: relative;
  backdrop-filter: blur(15px) brightness(1.08);
  -webkit-backdrop-filter: blur(15px) brightness(1.08);
  overflow: visible;
}
.grok-panel { display: none; }
.grok-panel.active { display: block; }

.grok-menu-list { display: flex; flex-direction: column; gap: 1em; }

.grok-inventory-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(86px, 1fr));
  gap: 1em;
  margin-top: 1em;
}
.grok-item-card {
  background: rgba(45, 31, 75, 0.8);
  border-radius: 18px;
  box-shadow: 0 2px 10px #b76bfd33, 0 1px 8px #4eafff33;
  display: flex;
  flex-direction: column;
  align-items: center;
  padding: 1em 0.5em;
  text-align: center;
  transition: background .13s, box-shadow .14s;
  cursor: pointer;
  border: 2px solid transparent;
  position: relative;
}
.grok-item-card:hover {
  background: #2d1f4b;
  border-color: var(--grok-neon2);
  box-shadow: 0 0 16px #b76bfd99;
}
.grok-item-ico {
  font-size: 2em;
  margin-bottom: .35em;
  filter: drop-shadow(0 0 7px #4eafffaa);
}
.grok-item-name {
  color: #fffbe2;
  font-weight: 700;
  font-size: 1em;
  margin-bottom: .2em;
  text-shadow: 0 0 6px #b76bfdcc;
}
.grok-item-desc {
  color: #b9c8f9;
  font-size: 0.93em;
  opacity: .87;
}

.grok-inventory-empty {
  margin-top: 2.5em;
  text-align: center;
  color: #b9c8f9;
  font-size: 1.1em;
  letter-spacing: .04em;
  opacity: 0.83;
}

.grok-case-modal {
  display: none;
  position: fixed;
  z-index: 1000;
  inset: 0;
  align-items: center;
  justify-content: center;
}
.grok-case-modal.active { display: flex; }
.grok-modal-bg {
  position: absolute;
  inset: 0;
  background: rgba(12, 9, 27, 0.79);
  filter: blur(1.5px);
  z-index: 1;
}
.grok-case-popup {
  position: relative;
  z-index: 2;
  background: var(--grok-glass);
  border-radius: 35px;
  border: 2.5px solid var(--grok-neon);
  box-shadow: 0 0 30px #b76bfd99, 0 0 60px #4eafffaa;
  padding: 2.1em 1.2em 2.2em 1.2em;
  min-width: 320px;
  max-width: 95vw;
  min-height: 370px;
  display: flex;
  flex-direction: column;
  align-items: center;
  animation: grok-case-popup-anim .7s cubic-bezier(.26,.7,.46,1.2);
}
@keyframes grok-case-popup-anim {
  0% { opacity: 0; transform: scale(.91);}
  100% { opacity: 1; transform: none;}
}
.grok-case-title {
  color: var(--grok-neon2);
  font-size: 1.35em;
  font-weight: 900;
  letter-spacing: .09em;
  margin-bottom: 1em;
  text-shadow: 0 0 10px #4eafff99;
}
.grok-case-roulette {
  width: 100%;
  max-width: 276px;
  height: 60px;
  margin-bottom: 2em;
  position: relative;
  overflow: hidden;
  background: rgba(22, 18, 42, .55);
  border-radius: 17px;
  border: 2px solid #b76bfd66;
}
.grok-roulette-strip {
  display: flex;
  align-items: center;
  height: 100%;
  transition: transform 3s cubic-bezier(.23,1.2,.52,1);
  will-change: transform;
}
.grok-roulette-item {
  width: 64px;
  height: 56px;
  background: linear-gradient(135deg,#2d1f4b 70%,#4eafff 100%);
  border-radius: 14px;
  margin: 0 4px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  font-size: 1.6em;
  color: #fff;
  box-shadow: 0 0 8px #b76bfd88;
  border: 2px solid transparent;
  opacity: 0.98;
  position: relative;
  transition: border .17s;
}
.grok-roulette-item.active {
  border: 3.5px solid #fffbe2;
  box-shadow: 0 0 20px #ed75ffcc, 0 0 32px #4eafffaa;
  background: linear-gradient(135deg,#4eafff 70%,#b76bfd 100%);
  z-index: 3;
}
.grok-roulette-pointer {
  width: 18px;
  height: 47px;
  background: #fffbe2;
  border-radius: 7px;
  border: 4px solid #ed75ff;
  box-shadow: 0 0 25px #fffbe2cc, 0 0 18px #ed75ff99;
  position: absolute;
  top: -38px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 20;
  pointer-events: none;
}
.pointer-flash {
  box-shadow: 0 0 60px 22px #ffe03ecc, 0 0 32px #b76bfdcc !important;
  animation: pointerflash .7s;
}
@keyframes pointerflash {
  0% { box-shadow: 0 0 0 #ffe03e00; }
  50% { box-shadow: 0 0 34px 22px #ffe03ecc, 0 0 22px #b76bfdcc; }
  100% { box-shadow: 0 0 0 #ffe03e00; }
}

.grok-case-spin-btn {
  margin-top: 1em;
  background: linear-gradient(90deg,#4eafff 60%,#ed75ff 100%);
  color: #181a35;
  font-size: 1.13em;
  font-weight: 900;
  border: none;
  border-radius: 14px;
  padding: 0.7em 2.7em;
  letter-spacing: .09em;
  cursor: pointer;
  box-shadow: 0 0 15px #b76bfd66;
  transition: background .13s, box-shadow .15s;
  z-index: 2;
}
.grok-case-spin-btn:active {
  background: linear-gradient(90deg,#ed75ff 0%,#4eafff 100%);
  box-shadow: 0 0 25px #4eafffaa;
}
.grok-case-result {
  color: #fffbe2;
  font-size: 1.18em;
  font-weight: 700;
  margin-top: 1.2em;
  min-height: 1.5em;
  text-shadow: 0 0 12px #b76bfd99;
  text-align: center;
}
.grok-case-close-btn {
  position: absolute;
  top: 14px;
  right: 16px;
  background: none;
  border: none;
  color: var(--grok-neon2);
  font-size: 1.5em;
  cursor: pointer;
  filter: drop-shadow(0 0 7px #b76bfd88);
  z-index: 5;
}
.grok-case-close-btn:active { color: #fff; }

/* Upgrade circular menu */
#upgrade-circle {
  width: 210px;
  height: 210px;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 60%, #1e1c37 70%, #19142b 100%);
  margin: 0 auto 1.2em auto;
  position: relative;
  box-shadow: 0 0 20px #4eafffaa;
  display: flex;
  align-items: center;
  justify-content: center;
}
.upgrade-sector {
  width: 54px;
  height: 54px;
  background: linear-gradient(135deg,#2d1f4b 70%,#ed75ff 100%);
  border-radius: 50%;
  position: absolute;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  font-size:1.52em;
  color:#fff;
  box-shadow: 0 0 8px #b76bfd88;
  border: 2px solid #fffbe2;
  transition: border .2s, box-shadow .2s;
}
.upgrade-sector.win {
  border: 3px solid #ffd700;
  box-shadow: 0 0 20px #ffd700cc, 0 0 40px #ffe03e99;
}
.upgrade-arrow {
  position: absolute;
  left: 50%; top: 50%;
  transform: translate(-50%,-120%);
  width: 44px;
  height: 44px;
  z-index: 10;
  pointer-events: none;
}
.upgrade-arrow svg {
  width: 44px; height: 44px;
  filter: drop-shadow(0 0 10px #fffbe2cc);
}

/* Адаптивность */
@media (max-width: 800px) {
  .grok-root { flex-direction: column; }
  .grok-sidebar { width: 100vw; min-width: 0; flex-direction: row; justify-content: space-around; border-right: none; border-bottom: 2px solid #302d49; padding: .7em 0;}
  .grok-sidebar-logo { display:none;}
  .grok-sidebtn { border-radius: 13px; padding: .7em 1em; font-size:1em; }
  .grok-main { padding: 1vw; }
  .grok-glass-panel { max-width: 98vw; min-width: unset;}
  .grok-balance-bar { padding: .6em 1em;}
  #upgrade-circle { width: 170px; height: 170px; }
}
@media (max-width: 430px) {
  .grok-glass-panel { padding: .9em .4em 1.2em .4em; }
  .grok-case-popup { min-width: 90vw; }
}